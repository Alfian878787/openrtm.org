// Title: Compiling method (Windows, CMake using, C++ edition)
I will explain how to build on Windows.
//Windows でのビルド方法を説明します。


#contents

** (G)Environment preparation
*** (G)Environment
//** 環境準備
//*** 環境

| Visual C++ (version 2005 or later) | Vc++ development environment |
| CMake (version 2.8.5 or higher) | Tools for generating build files that are in development environment |
| Doxygen | Documentation Generator |
| Wix Windows Installer XML toolset (version 3.0 or 3.5) | Tool set for creating Windows Installer (MSI) package |
//|Visual C++( バージョン 2005 以上 )|vc++開発環境|
//|CMake( バージョン 2.8.5 以上 )|開発環境にあったビルドファイルを生成するツール|
//|Doxygen|ドキュメンテーションジェネレーター|
//|Wix Windows Installer XML toolset ( バージョン 3.0 または 3.5)| Windows Installer(MSI) パッケージを作成するためのツールセット|

*** (G)Combination of versions
//*** バージョンの組み合せ

There is a combination of versions of Visual C++ and Wix.
//Visual C++ と Wix はバージョンの組み合せが存在します。
|LEFT:450|LEFT|c
|VC++|Wix|
|2010|3.5|
|2008|3.0|
|2005|3.0|

** (G)Build procedure
//** ビルド手順

It shows the build procedure.
The figure is VC++ 2005, CMake 2.8.5.
//ビルド手順を示します。
//図は VC++ 2005 、CMake 2.8.5 です。

*** (G)Cmake settings
Launch the GUI version of Cmake and specify the directory.
//*** Cmake の設定
//GUI 版 Cmake を起動してディレクトリーを指定します。

|LEFT:280|LEFT|c
| Where is the source code | Specifies the folder of the code generated by RTCBuilder. |
| Where to build the binaries | Specify a folder to output files such as solution/project/workspace. |
//|Where is the source code|RTCBuilder で生成したコードのフォルダーを指定します。|
//|Where to build the binaries|ソリューション/プロジェクト/ワークスペースなどのファイルを出力するフォルダーを指定します。|

#ref(Clipboard09.png,center)
CENTER:''Specify directory''
//CENTER:''ディレクトリーを指定''
#br

*** (G)Running Configure
Click the [Configure] button to execute it. Then select the platform to use.
In the example, "Visual Studio 9 2008" is selected.
//*** Configure の実行
//[Configure] ボタンをクリックして実行します。その後、使用するプラットフォームを選択します。
//例では「Visual Studio 9 2008」を選択しています。
#ref(Clipboard04.png,center)
CENTER:''Platform selection''
//CENTER:''プラットフォームの選択''
#br

*** (G)Running Generate
When Configure completes normally, click the Generate button.
//*** Generate の実行
//Configure が正常終了したら、[Generate] ボタンをクリックします。
#ref(Clipboard05.png,center)
CENTER:''Run Generate''
//CENTER:''Generate の実行''
#br

*** (G)Running VC++
Open the solution file (*.sln) in the folder specified in "Where to build the binaries".
#ref(Clipboard06.png,center)
CENTER:''Open solution file''
//*** VC++ の実行
//「Where to build the binaries」で指定したフォルダー内にあるソリューションファイル(*.sln)を開きます。
//#ref(Clipboard06.png,center)
//CENTER:''ソリューションファイルを開く''
#br

*** (G)Running the build
Build solution by executing [Build] > [Build Solution].
#ref(Clipboard08.png,center)
CENTER:''Run build''
//*** ビルドの実行
//[ビルド] > [ソリューションのビルド] を実行してソリューションをビルドします。
//#ref(Clipboard08.png,center)
//CENTER:''ビルドの実行''
#br

** (G)Document generation procedure
*** (G)Running doxygen
In the Solution Explorer, select "doxygen" and right click.
So select "Build" and execute it.
#ref(Clipboard10.png,center)
CENTER:''Run doxygen''
//** ドキュメント生成手順
//*** doxygen の実行
//ソリューションエクスプローラで「doxygen」を選び、右クリックします。
//そこで「ビルド」を選択して実行します。
//#ref(Clipboard10.png,center)
//CENTER:''doxygen の実行''
#br

*** (G)Documentation
Documents are generated in doc/html under the folder specified in "Where to build the binaries".
#ref(Clipboard13.png,center)
CENTER:''document example''
//*** ドキュメント
//「Where to build the binaries」で指定したフォルダー配下の doc/html にドキュメントが生成されます。
//#ref(Clipboard13.png,center)
//CENTER:''ドキュメント例''
#br

** (G)Package generation procedure
Package generation uses cpack and wix that are included in CMake, but cpack does not support Wix, and can not generate packages unless it is normal.
As a response, please expand the following file and replace it with one of C:\Program Files\CMake 2.8.
//** パッケージ生成手順
//パッケージ生成には、CMake に同梱されている cpack と Wix を使用していますが、 cpack は、Wix に対応しておらず、通常のままですと、パッケージを生成することができません。
//その対応として、以下ファイルを展開して、C:\Program Files\CMake 2.8 のものと差し替えてください。

[[CMake patch (for Wix 3.0):http://www.openrtm.org/openrtm/sites/default/files/6512/cmake-2.8-WiX-patch_v30.zip]]

*** (G)Running doxygen
In the Solution Explorer, select "doxygen" and right click.
So select "Build" and execute it.
#ref(Clipboard10.png,center)
CENTER:''Run doxygen''
//*** doxygen の実行
//ソリューションエクスプローラで「doxygen」を選び、右クリックします。
//そこで「ビルド」を選択して実行します。
//#ref(Clipboard10.png,center)
//CENTER:''doxygen の実行''
#br
*** (G)Running the PACKAGE build
In Solution Explorer select "PACKAGE" and right click.
So select "Build" and execute it.
#ref(Clipboard15.png,center)
CENTER:''PACKAGE Build Run''
//*** PACKAGE ビルドの実行
//ソリューションエクスプローラで「PACKAGE」を選び、右クリックします。
//そこで「ビルド」を選択して実行します。
//#ref(Clipboard15.png,center)
//CENTER:''PACKAGE ビルドの実行''
#br

*** (G)Package
The msi format installation package is generated under the folder specified in "Where to build the binaries".
//*** パッケージ
//「Where to build the binaries」で指定したフォルダー配下に msi 形式のイントールパッケージが生成されます。

rtc1.1.0- <package name> .msi
//rtc1.1.0-<パッケージ名>.msi

When you run this installation package, it will be installed to the following.
//このイントールパッケージを実行すると下記へインストールされます。

C:\Program Files\OpenRTM-aist\1.1\components\<Language>\<package name>

