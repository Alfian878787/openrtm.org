#contents
#clear

//** RTミドルウエア (RTM)
** RT-Middleware  (RTM)

//RTミドルウエア (RT-Middleware: RTM) とは、ロボット機能要素 (RT機能要素)のソフトウエアモジュールを複数組み合わせてロボットシステム (RTシステム)を構築する為のソフトウエアプラットフォームを指す一般名称です。
//OpenRTM-aist は RTミドルウエア実装の一つであり、''Open''-source and open architecture ''R''obot ''T''echnology ''M''iddleware implemented by ''AIST'' (産業技術総合研究所) の略称です。
RT Middleware (RT-Middleware: RTM) is a name that refers to a software platform for constructing a robot system (RT system) by combining multiple software modules of robot functional elements (RT function elements).
OpenRTM-aist is one of RT middleware implementations, It stands for '' Open '' - source and open architecture '' R''obot '' T''chnology '' M '' iddleware implemented by '' AIST '' ( National Institute of Advanced Industrial Science and Technology).

//RTシステムを構成するRT機能要素とは、あるまとまった機能を提供するロボット構成要素で、例えばサーボモーターやセンサー、カメラといったデバイス単位であったり、あるいはこうしたデバイスの組み合わせにより実現される移動台車、アームなども RT機能要素として捉える事ができるでしょう。
The RT function elements in the RT system are robot components - each one provides a certain function. For example, a component handle a device such as a servo motor, a sesor, a camera or th the like. Also a convination of the such devices like a mobile car or a robot arm  also can be implemented as a RT function element.

//また、ハードウエアに結びついているものだけでなく、制御アルゴリズム、画像処理アルゴリズムといった、ソフトウエアのみで構成されるものも RT機能要素と考えることができます。
//下図に示すように、モジュール化された RT機能要素を階層的に組み合わせることで、ロボットシステム構築を容易にするためのプラットフォームが RTミドルウエアです。
In addition to what is tied to hardware, RT function element can be tied only to software such as a control algorithm and an image processing algorithm.
RT Middleware is a platform for supporting easy construction of robot systems by combining hierarchically modularized RT function elements as shown below.

#ref(rtsystem_integration_en.png,50%,center)
//CENTER: ''RTミドルウエアによるRTシステムインテグレーション''
CENTER: ''RT system integration by RT middleware''

//25th July ここまで
//
//** RT コンポーネント (RTC)
** (G)RT Component (RTC)

//RTミドルウエアでは、RT機能要素をソフトウエアモジュール化したものを RTコンポーネント(RT-Component: RTC)と呼びます。RTコンポーネントには、他の RTコンポーネントとデータをやり取りしたり、通信したりする為のポートと呼ばれるインターフェースがあります。
(G)In RT middleware, the RT function element is made into a software module is called an RT component (RT-Component: RTC). The RT component has an interface called a port for exchanging data and communicating with other RT components.

//図に RTC と RTM の関係を示します。上述したように、RTC はあるひとまとまりの機能をモジュール化したソフトウエアの断片であり、その実体は RTM 上で実行される共有オブジェクト (shared object)、DLL (dynamic link library) です。
//RTC開発者は、自分が持っている制御アルゴリズムのコードや、既存のライブラリコード等 (コアロジックと呼ぶ) を、RTCBuilder 等のツールによって自動生成される RTC の雛型コードに埋め込み、コンパイル (スクリプト言語では不要)することで、RTC を作成します。
(G)The relationship between RTC and RTM is shown in the figure. As mentioned above, RTC is a piece of software that modulates a function of a unit, its entity is a shared object (DLL) (dynamic link library) executed on RTM.
The RTC developer embeds the code of the control algorithm it owns, the existing library code etc. (called the core logic) in the RTC template code automatically generated by the tool such as RTCBuilder, compiles (script language It is unnecessary in this case) to create an RTC.


#ref(rtm_and_rtc_ja.png,40%,center)
//CENTER: ''RTC(RTコンポーネント)とRTM(RTミドルウエア)''
CENTER: ''RTC(RTComponent) and RTM (RTMiddleware)''

//** モジュールの分割と統合
** (G)Split and integrate modules

//RTシステムは、複数のコンポーネントのポートをつなぎ合わせ、それぞれの RTコンポーネント機能の集合体として構築されます。対話・認識コンポーネントを例にとって考えてみます。
//対話・認識コンポーネントは、ユーザーの声や表情を認識・観測して、音声や身振り手振りなどでユーザーと対話する機能を持つコンポーネントで、以下のサブコンポーネントから構成されているとします。
(G)The RT system connects ports of multiple components and is constructed as a collection of RT component functions of each. Consider a dialogue / recognition component as an example.
The dialogue / recognition component is a component that has the function of recognizing and observing the user's voice and facial expression and having the function of interacting with the user by voice, gesture gesture, etc. It consists of the following subcomponents.

//- カメラコンポーネント
//- ステレオビジョンコンポーネント
//- 顔認識コンポーネント
//- マイクコンポーネント
//- 音声認識コンポーネント
//- 対話コンポーネント
//- 頭・腕コンポーネント
//- 音声合成コンポーネント 
- Camera component
- Stereo vision component
- Face recognition component
- Microphone component
- Speech recognition component
- interaction component
- Head/arm control components
- Speech synthesis component

#ref(rtcbased_hri_system_en.png,50%,center)
//CENTER: ''RTCより構成される対話・認識システムの例''
CENTER: ''Example of dialogue and recognition system consisting of RTC''

//上図のように、分割コンポーネントはそれぞれポートと呼ばれる他のコンポーネントと通信するインターフェースを持ち、データやコマンドのやり取りを行い、全体として一つのまとまった機能を実現します。
//モジュール化することで、モジュール単位での並行開発、再利用、交換や更新、分離等が可能になるため、複雑さの軽減、開発効率の向上やシステムの柔軟性・拡張性・安定性の向上が期待できます。
(G)As shown above, each of the divided components has an interface that communicates with other components called ports, and exchanges data and commands to realize one collective function as a whole.
Modularization enables parallel development, reuse, exchange, update, separation, etc. on a module basis, thus reducing complexity, improving development efficiency, and improving system flexibility, expandability, and stability You can expect.

//** 開発の経緯
** (G)History of development

//RTミドルウエア は、(独)新エネルギー・産業技術総合開発機構(NEDO)の21世紀ロボットチャレンジプログラム(2002～2004年度) のプロジェクトにおいて、そのコンセプトが提唱され、(独)産業技術総合研究所(産総研)、松下電工(現パナソニック電工株式会社)、(社)日本ロボット工業会により研究・開発・標準化が行われました。
(G)RT Middleware was proposed by the New Energy and Industrial Technology Development Organization (NEDO) in the project of the 21st Century Robot Challenge Program (2002 - 2004), its concept was proposed, and the National Institute of Advanced Industrial Science and Technology Research, development and standardization were conducted by Matsushita Electric Works (now Panasonic Electric Works Co., Ltd.), Japan Robot Industry Association.

//プロジェクトの成果として、RTミドルウエアの参照実装である OpenRTM-aist-0.2 およびそのインターフェース仕様が公開されました。その後、国際標準化団体 OMG (Object Manegement Group: http://www.omg.org ) において RTCインターフェース仕様の標準化が進められ、2008年4月にOMG公式標準仕様となりました。この標準に準拠した RTミドルウエア実装の一つが2010年1月に公開された OpenRTM-aist-1.0 です。
(G)As a result of the project, OpenRTM - aist - 0.2 which is a reference implementation of RT middleware and its interface specification was released. After that, standardization of the RTC interface specification was advanced in the International Standards Organization OMG (Object Manegement Group: http://www.omg.org), and became OMG official standard specification in April 2008. One of RT Middleware implementations conforming to this standard is OpenRTM - aist - 1.0 published in January 2010.

//** RTC OMG標準
** (G)RTC OMG standard

//OpenRTM-aist の大きな特徴として、コンポーネントモデルとそのインターフェースが OMG という国際標準化団体で標準化されていることが挙げられます。
(G)A major feature of OpenRTM-aist is that the component model and its interface are standardized by an international standardization organization called OMG.

//OMG は1989年に設立されたソフトウエア標準化団体であり、分散オブジェクトミドルウエア: CORBA (Common Object Request Broker Architecture)、ソフトウェアモデリング言語: UML (Unified Modeling Language) を始めとして、様々な分野のソフトウエア標準を策定・管理している組織として知られています。
(G)OMG is a software standardization organization founded in 1989. It is composed of distributed object middleware: CORBA (Common Object Request Broker Architecture), software modeling language: UML (Unified Modeling Language), various software standards It is known as an organization that has formulated and managed it.

//RTCのインターフェース仕様も、CORBA 同様 OMG において、産総研と米国ミドルウエアベンダ RTI (Real Time Innovations) により標準化され、RTC(Robotic Technology Component) Specification (http://www.omg.org/spec/RTC/1.0/ ) として2008年4月に公式リリースされました。
(G)RTC interface specifications are also standardized by AIST and US middleware vendor RTI (Real Time Innovations) in OMG as well as CORBA, and RTC (Robotic Technology Component) Specification (http://www.omg.org/spec/RTC/ 1.0 /) was officially released in April 2008.

//標準化のメリットとして、標準に基づき多くのベンダ、開発者が自由にミドルウエアを実装することができる点が挙げられます。現在、OMG RTC 仕様に準拠、または一部準拠するミドルウエアとして、表に示す7種類(OpenRTM-aist の3種類の言語を含む) が存在します。
(G)One of the merits of standardization is that many vendors and developers can freely implement middleware based on standards. Currently, there are seven types (including three languages of OpenRTM-aist) shown in the table as middleware conforming to or partly conforming to the OMG RTC specification.

//CENTER: ''OMG RTC準拠のミドルウエア一覧''
//|LEFT:120|LEFT:150|LEFT:350|c
//| 名称 | ベンダー名 | 概要 |
//| OpenRTM-aist | 産総研 | C++、Python、Java の3種類 |
//| OpenRTM.NET | (株)セック | .NET による実装、OpenRTM-aistと互換性あり |
//| OPRoS Project | 韓国 ETRI | 独自ミドルウエア上の実装 |
//| PALRO(パルロ) | 富士ソフト株式会社 | 小型人型ロボットPARLO(パルロ)の制御ソフトウエアがC++言語レベルで互換 |
//| GostaiRTC | GOSTAI/Thales | OMG RTC Local PSMに準拠 |
CENTER: '' OMG RTC compliant middleware list ''
|LEFT:120|LEFT:150|LEFT:350|c
| Name | Vendor name | Overview |
| OpenRTM-aist | AIST | Three types of C ++, Python, Java |
| OpenRTM.NET | SEC | .NET implementation, compatible with OpenRTM-aist |
| OPRoS Project | Korea ETRI | Implementation on original middleware |
| PALRO (Palo) | Fuji Software Co., Ltd. | Compact humanoid robot PARLO (Palo) control software is compatible at C ++ language level |
| GostaiRTC | GOSTAI / Thales | OMG RTC Complies with Local PSM |

#br

//このうち、通信を介して互換性がある物は、OpenRTM-aist と OpenRTM.NET のみですが、他の実装とは内部モデルが同一であるため、ブリッジ等を作り連携させた際にも、全体としての整合性に矛盾が生じることは少なくなります。
//また、複数の組織による多様な実装が存在することで、用途に応じて適切な言語やライセンスを選択することも可能であり、ミドルウエアそのものの永続性も高くなります。
(G)Among these, only compatible objects via communication are OpenRTM-aist and OpenRTM.NET, but since the internal model is the same as other implementations, even when bridges etc. are created and linked, the whole There will be less inconsistency in consistency as.
Also, since there are various implementations by multiple organizations, it is also possible to select the appropriate language and license according to the application, and the middleware itself is more durable.
